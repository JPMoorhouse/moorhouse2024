---
import keystaticConfig from "../../keystatic.config";
const reader = createReader(process.cwd(), keystaticConfig);
import { createReader } from "@keystatic/core/reader";
const header: any = await reader.singletons.header.read();
const topbar: any = await reader.singletons.topbar.read();
console.log(topbar);
---

<div class="bg-secondary relative z-50">
  <div
    class="text-white xl:hidden custom-container lg:px-14 px-0 flex justify-between items-center gap-4 py-2"
  >
    <a
      href={`mailto:${topbar.message.email}`}
      class="flex justify-center items-center text-sm gap-2 mr-4"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="13"
        height="13"
        class="mr-2"
        viewBox="0 0 13 13"
        fill="none"
      >
        <g clip-path="url(#clip0_1_47)">
          <path
            d="M12.9751 3.00195L8.41533 7.5617C7.90691 8.06884 7.21811 8.35364 6.5 8.35364C5.78189 8.35364 5.09309 8.06884 4.58467 7.5617L0.0249167 3.00195C0.0173333 3.08754 0 3.16499 0 3.25004V9.75004C0.00086009 10.4681 0.286478 11.1564 0.794202 11.6642C1.30193 12.1719 1.9903 12.4575 2.70833 12.4584H10.2917C11.0097 12.4575 11.6981 12.1719 12.2058 11.6642C12.7135 11.1564 12.9991 10.4681 13 9.75004V3.25004C13 3.16499 12.9827 3.08754 12.9751 3.00195Z"
            fill="white"></path>
          <path
            d="M7.64943 6.79559L12.597 1.84746C12.3573 1.45005 12.0193 1.12111 11.6155 0.892358C11.2117 0.663608 10.7558 0.542772 10.2917 0.541504H2.70835C2.24426 0.542772 1.78833 0.663608 1.38453 0.892358C0.980731 1.12111 0.642691 1.45005 0.403015 1.84746L5.3506 6.79559C5.65587 7.09963 6.06916 7.27034 6.50001 7.27034C6.93086 7.27034 7.34416 7.09963 7.64943 6.79559Z"
            fill="white"></path>
        </g>
        <defs>
          <clipPath id="clip0_1_47">
            <rect width="13" height="13" fill="white"></rect>
          </clipPath>
        </defs>
      </svg>
      <span>{topbar.message.email}</span>
    </a>
    <div class="flex justify-center items-center gap-3">
      {
        topbar.social.map((item: any) => (
          <a href={item.link} aria-label={item.icontext}>
            <img
              src={item.image}
              class="w-4 h-4"
              alt=""
              height={16}
              width={16}
            />
          </a>
        ))
      }
    </div>
  </div>
</div>
<div class="custom-container bg-nav-gradient">
  <div class="relative lg:px-14 z-50 flex justify-between items-center gap-14">
    <div class="w-fit relative z-50">
      <img src={header.logo} class="w-36" alt="" width="144" height="135" />
    </div>
    <div class="lg:w-full">
      <div
        class="text-white xl:flex w-full hidden justify-end items-center gap-4 border-b pb-4 border-[#D9D9D980]"
      >
        <p class="flex justify-center items-center text-sm gap-2 mr-8">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="13"
            height="13"
            class="mr-2"
            viewBox="0 0 13 13"
            fill="none"
          >
            <g clip-path="url(#clip0_1_47)">
              <path
                d="M12.9751 3.00195L8.41533 7.5617C7.90691 8.06884 7.21811 8.35364 6.5 8.35364C5.78189 8.35364 5.09309 8.06884 4.58467 7.5617L0.0249167 3.00195C0.0173333 3.08754 0 3.16499 0 3.25004V9.75004C0.00086009 10.4681 0.286478 11.1564 0.794202 11.6642C1.30193 12.1719 1.9903 12.4575 2.70833 12.4584H10.2917C11.0097 12.4575 11.6981 12.1719 12.2058 11.6642C12.7135 11.1564 12.9991 10.4681 13 9.75004V3.25004C13 3.16499 12.9827 3.08754 12.9751 3.00195Z"
                fill="white"></path>
              <path
                d="M7.64943 6.79559L12.597 1.84746C12.3573 1.45005 12.0193 1.12111 11.6155 0.892358C11.2117 0.663608 10.7558 0.542772 10.2917 0.541504H2.70835C2.24426 0.542772 1.78833 0.663608 1.38453 0.892358C0.980731 1.12111 0.642691 1.45005 0.403015 1.84746L5.3506 6.79559C5.65587 7.09963 6.06916 7.27034 6.50001 7.27034C6.93086 7.27034 7.34416 7.09963 7.64943 6.79559Z"
                fill="white"></path>
            </g>
            <defs>
              <clipPath id="clip0_1_47">
                <rect width="13" height="13" fill="white"></rect>
              </clipPath>
            </defs>
          </svg>info@moorhousecoating.com
        </p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <g clip-path="url(#clip0_1_50)">
            <path
              d="M8 1.44133C10.136 1.44133 10.3893 1.44933 11.2327 1.488C12.1047 1.528 13.0027 1.72667 13.638 2.362C14.2793 3.00333 14.472 3.89267 14.512 4.76733C14.5507 5.61067 14.5587 5.864 14.5587 8C14.5587 10.136 14.5507 10.3893 14.512 11.2327C14.4727 12.1 14.2693 13.0067 13.638 13.638C12.9967 14.2793 12.108 14.472 11.2327 14.512C10.3893 14.5507 10.136 14.5587 8 14.5587C5.864 14.5587 5.61067 14.5507 4.76733 14.512C3.90667 14.4727 2.988 14.2647 2.362 13.638C1.724 13 1.528 12.102 1.488 11.2327C1.44933 10.3893 1.44133 10.136 1.44133 8C1.44133 5.864 1.44933 5.61067 1.488 4.76733C1.52733 3.90333 1.73267 2.99133 2.362 2.362C3.002 1.722 3.89467 1.528 4.76733 1.488C5.61067 1.44933 5.864 1.44133 8 1.44133ZM8 0C5.82733 0 5.55467 0.00933333 4.70133 0.048C3.46467 0.104667 2.23667 0.448667 1.34267 1.34267C0.445333 2.24 0.104667 3.46533 0.048 4.70133C0.00933333 5.55467 0 5.82733 0 8C0 10.1727 0.00933333 10.4453 0.048 11.2987C0.104667 12.534 0.45 13.7653 1.34267 14.6573C2.23933 15.554 3.46667 15.8953 4.70133 15.952C5.55467 15.9907 5.82733 16 8 16C10.1727 16 10.4453 15.9907 11.2987 15.952C12.5347 15.8953 13.764 15.5507 14.6573 14.6573C15.5553 13.7593 15.8953 12.5347 15.952 11.2987C15.9907 10.4453 16 10.1727 16 8C16 5.82733 15.9907 5.55467 15.952 4.70133C15.8953 3.46467 15.5507 2.236 14.6573 1.34267C13.762 0.447333 12.5313 0.104 11.2987 0.048C10.4453 0.00933333 10.1727 0 8 0Z"
              fill="white"></path>
            <path
              d="M8 3.89209C5.73133 3.89209 3.892 5.73142 3.892 8.00009C3.892 10.2688 5.73133 12.1081 8 12.1081C10.2687 12.1081 12.108 10.2688 12.108 8.00009C12.108 5.73142 10.2687 3.89209 8 3.89209ZM8 10.6668C6.52733 10.6668 5.33333 9.47276 5.33333 8.00009C5.33333 6.52742 6.52733 5.33342 8 5.33342C9.47267 5.33342 10.6667 6.52742 10.6667 8.00009C10.6667 9.47276 9.47267 10.6668 8 10.6668Z"
              fill="white"></path>
            <path
              d="M12.2707 4.68953C12.8009 4.68953 13.2307 4.25972 13.2307 3.72953C13.2307 3.19934 12.8009 2.76953 12.2707 2.76953C11.7405 2.76953 11.3107 3.19934 11.3107 3.72953C11.3107 4.25972 11.7405 4.68953 12.2707 4.68953Z"
              fill="white"></path>
          </g>
          <defs>
            <clipPath id="clip0_1_50">
              <rect width="16" height="16" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>

        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <g clip-path="url(#clip0_1_55)">
            <path
              d="M16 8.04883C16 12.0415 13.0707 15.3515 9.24667 15.9522V10.3768H11.106L11.46 8.07016H9.24667V6.57349C9.24667 5.94216 9.556 5.32749 10.5467 5.32749H11.5527V3.36349C11.5527 3.36349 10.6393 3.20749 9.76667 3.20749C7.944 3.20749 6.75333 4.31216 6.75333 6.31149V8.06949H4.72733V10.3762H6.75333V15.9515C2.93 15.3502 0 12.0408 0 8.04883C0 3.63083 3.582 0.0488281 8 0.0488281C12.418 0.0488281 16 3.63016 16 8.04883Z"
              fill="white"></path>
          </g>
          <defs>
            <clipPath id="clip0_1_55">
              <rect width="16" height="16" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <g clip-path="url(#clip0_1_58)">
            <path
              d="M15.6653 4.12377C15.4813 3.4311 14.9393 2.8851 14.2507 2.69977C13.0033 2.36377 8 2.36377 8 2.36377C8 2.36377 2.99667 2.36377 1.74867 2.69977C1.06067 2.8851 0.518667 3.43044 0.334667 4.12377C0 5.37977 0 7.99977 0 7.99977C0 7.99977 0 10.6198 0.334667 11.8758C0.518667 12.5684 1.06067 13.1144 1.74933 13.2998C2.99667 13.6358 8 13.6358 8 13.6358C8 13.6358 13.0033 13.6358 14.2513 13.2998C14.9393 13.1144 15.4813 12.5691 15.666 11.8758C16 10.6198 16 7.99977 16 7.99977C16 7.99977 16 5.37977 15.6653 4.12377ZM6.364 10.3791V5.62044L10.5453 7.99977L6.364 10.3791Z"
              fill="white"></path>
          </g>
          <defs>
            <clipPath id="clip0_1_58">
              <rect width="16" height="16" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>
      </div>
      <div
        class="lg:flex lg:rounded-b-3xl rounded-b-[30px] lg:flex-row hidden flex-col lg:static absolute top-0 left-0 lg:right-0 l lg:bg-transparent bg-primary w-full justify-end items-center lg:pb-0 pb-4 text-white text-sm gap-8 lg:pt-6 pt-40"
        id="menu-items"
      >
        {
          header.navItems.map((item: any) => (
            <a href={item.link}>{item.label}</a>
          ))
        }

        <div class="flex justify-center items-center gap-4">
          <a
            href={header.button[0].buttonSlug}
            class="rounded-full px-4 py-2 gap-3 text-sm whitespace-nowrap bg-transparent border border-white flex text-white justify-center items-center w-fit"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="19"
              height="19"
              viewBox="0 0 19 19"
              fill="none"
            >
              <g clip-path="url(#clip0_1_36)">
                <path
                  d="M16.2164 2.78147C12.5059 -0.927943 6.49077 -0.927052 2.78135 2.78351C-0.928065 6.49408 -0.927175 12.5091 2.78339 16.2186C6.49396 19.928 12.509 19.9271 16.2184 16.2165C17.9999 14.4345 19.0005 12.0177 18.9999 9.49797C18.9994 6.97862 17.9981 4.56265 16.2164 2.78147ZM14.3873 13.2334C14.3869 13.2338 14.3865 13.2343 14.386 13.2347V13.2315L13.9047 13.7097C13.2822 14.34 12.3756 14.5994 11.5139 14.3937C10.6457 14.1613 9.82037 13.7914 9.0692 13.298C8.37132 12.852 7.72458 12.3306 7.1407 11.7432C6.60347 11.2099 6.12082 10.6243 5.69986 9.99516C5.2394 9.31821 4.87495 8.58078 4.61686 7.80382C4.32098 6.89108 4.56616 5.88953 5.2502 5.21666L5.81386 4.65301C5.97057 4.49559 6.22521 4.49504 6.38259 4.65175C6.383 4.65216 6.38345 4.65256 6.38386 4.65301L8.16351 6.43266C8.32093 6.58938 8.32148 6.84402 8.16477 7.0014C8.16436 7.00181 8.16396 7.00222 8.16351 7.00266L7.11851 8.04766C6.81867 8.34424 6.78096 8.81553 7.02986 9.15601C7.40781 9.67472 7.82607 10.1628 8.2807 10.6159C8.78758 11.1249 9.33862 11.588 9.92736 11.9997C10.2675 12.237 10.7287 12.197 11.023 11.9047L12.0332 10.8787C12.1899 10.7213 12.4445 10.7207 12.6019 10.8774C12.6023 10.8778 12.6027 10.8783 12.6032 10.8787L14.386 12.6647C14.5435 12.8214 14.544 13.076 14.3873 13.2334Z"
                  fill="white"></path>
              </g>
              <defs>
                <clipPath id="clip0_1_36">
                  <rect width="19" height="19" fill="white"></rect>
                </clipPath>
              </defs>
            </svg>
            {header.button[0].buttontext}
          </a>
          <a
            href={header.button[1].buttonSlug}
            class="rounded-full px-4 bg-primary whitespace-nowrap gap-3 text-sm text-[#333] py-2 border border-primary flex justify-center items-center w-fit"
            >{header.button[1].buttontext}<svg
              xmlns="http://www.w3.org/2000/svg"
              width="19"
              height="19"
              viewBox="0 0 26 27"
              fill="none"
            >
              <g clip-path="url(#clip0_1_74)">
                <path
                  d="M25.4522 12.0392L20.3525 6.93945L19.5881 7.70382L24.5808 12.6965H0V13.7777H24.5786L19.587 18.7693L20.3514 19.5337L25.4522 14.4328C26.1117 13.7733 26.1117 12.6987 25.4522 12.0392Z"
                  fill="white"></path>
              </g>
              <defs>
                <clipPath id="clip0_1_74">
                  <rect
                    width="25.9474"
                    height="25.9474"
                    fill="white"
                    transform="translate(0 0.263184)"></rect>
                </clipPath>
              </defs>
            </svg></a
          >
        </div>
      </div>
      <div class="lg:hidden flex relative z-50" id="bars">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="64"
          height="64"
          viewBox="0 0 24 24"
        >
          <path
            fill="#ffffff"
            d="M19 12.75H5a.75.75 0 0 1 0-1.5h14a.75.75 0 0 1 0 1.5Zm0-4.5H5a.75.75 0 0 1 0-1.5h14a.75.75 0 0 1 0 1.5Zm0 9H5a.75.75 0 0 1 0-1.5h14a.75.75 0 0 1 0 1.5Z"
          ></path>
        </svg>
      </div>
    </div>
  </div>
</div>
<script>
  const bars = document.querySelector("#bars");
  const menu_items = document.querySelector("#menu-items");

  bars?.addEventListener("click", () => {
    menu_items?.classList.toggle("hidden");
    menu_items?.classList.toggle("flex");
  });
</script>
